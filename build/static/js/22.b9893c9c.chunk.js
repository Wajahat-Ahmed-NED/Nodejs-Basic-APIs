(this["webpackJsonpAdmin Panel"]=this["webpackJsonpAdmin Panel"]||[]).push([[22],{1006:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return F}));var l=c(16),a=c(8),n=c(0),o=c.n(n),s=c(920),i=c(922),r=c(186),d=c(835),j=c(909),u=c(916),b=c(932),h=c(838),m=c(242),f=c.n(m),x=c(955),O=c.n(x),p=c(842),v=c.n(p),g=c(71),y=c(74),C=c(109),N=c.n(C),S=c(982),k=c(1),w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"33%",maxHeight:"500px",bgcolor:"rgb(36, 41, 57)",color:"white !important",boxShadow:24,p:4,overflowX:"hidden",overflowY:"auto"};function F(){var e=o.a.useState(!1),t=Object(a.a)(e,2),c=t[0],m=t[1],x=o.a.useState(!1),p=Object(a.a)(x,2),C=p[0],F=p[1],G=o.a.useState(""),z=Object(a.a)(G,2),U=z[0],_=z[1],A=o.a.useState(""),D=Object(a.a)(A,2),E=D[0],B=D[1],T=Object(n.useState)([]),P=Object(a.a)(T,2),W=P[0],q=P[1],I=Object(n.useState)(""),J=Object(a.a)(I,2),L=J[0],M=J[1],V=Object(n.useState)(""),H=Object(a.a)(V,2),R=H[0],X=H[1],Y=Object(n.useState)(""),K=Object(a.a)(Y,2),Q=K[0],Z=K[1],$=Object(n.useState)(""),ee=Object(a.a)($,2),te=ee[0],ce=ee[1],le=o.a.useState([]),ae=Object(a.a)(le,2),ne=ae[0],oe=ae[1],se=o.a.useState([]),ie=Object(a.a)(se,2),re=ie[0],de=ie[1],je=Object(n.useState)(null),ue=Object(a.a)(je,2),be=ue[0],he=ue[1],me=Object(n.useState)(null),fe=Object(a.a)(me,2),xe=fe[0],Oe=fe[1],pe=Object(n.useState)(null),ve=Object(a.a)(pe,2),ge=ve[0],ye=ve[1],Ce=["text/csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],Ne=function(e){ye(null);var t=e.target.files[0];if(console.log(t),t)if(t&&Ce.includes(t.type)){var c=new FileReader;c.readAsArrayBuffer(t),c.onload=function(e){Oe(null),he(e.target.result)}}else Oe("Please select only csv/excel file types"),he(null);else console.log("plz select your file")},Se=function(e){if(e.preventDefault(),null!==be){var t=S.a(be,{type:"buffer"}),c=t.SheetNames[0],l=t.Sheets[c],a=S.b.sheet_to_json(l);console.log(a),ye(a)}else ye(null)},ke=function(){m(!1),F(!1),q([]),ye(null),B("")},we=function(){m(!1)};function Fe(e){if(e.preventDefault(),""!==L||""!==R||""!==Q||""!==te){var t={first_name:L,last_name:R,email:Q,position:te};q([].concat(Object(l.a)(W),[t])),M(""),X(""),Z(""),ce("")}}function Ge(e){q(W.filter((function(t,c){return c!==e})))}var ze=function(){Object(y.w)().then((function(e){console.log(e),oe(e.data)})).catch((function(e){console.log(e)})),Object(y.x)().then((function(e){console.log(e.data),de(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){ze()}),[]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(g.a,{title:"Users And Groups",children:[Object(k.jsx)(s.a,{sx:{maxWidth:275},className:"mb-3",style:{color:"black"},children:Object(k.jsxs)(i.a,{children:[Object(k.jsx)(r.a,{variant:"h4",style:{color:"black"},gutterBottom:!0,children:"Groups Summary"}),Object(k.jsxs)(r.a,{variant:"h5",component:"div",color:"text.secondary",children:["Total Groups : ",null===re||void 0===re?void 0:re.total]})]})}),Object(k.jsx)(d.a,{variant:"contained",className:"mb-3",onClick:function(){m(!0)},children:"New Group"}),Object(k.jsx)(j.a,{open:c,onClose:ke,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(k.jsx)(u.a,{sx:w,children:Object(k.jsxs)(u.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"41ch"}},noValidate:!0,autoComplete:"off",children:[Object(k.jsx)(r.a,{id:"modal-modal-title",variant:"h4",component:"h2",children:"Name"}),Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"form",children:Object(k.jsxs)("form",{className:"form-group",autoComplete:"off",children:[Object(k.jsx)("label",{htmlFor:"bulk",children:Object(k.jsx)("h5",{children:"Bulk Import"})}),Object(k.jsx)("br",{}),Object(k.jsx)("input",{type:"file",className:"form-control",onChange:Ne,required:!0}),xe&&Object(k.jsx)("div",{className:"text-danger",style:{marginTop:"5px"},children:xe}),Object(k.jsx)(d.a,{onClick:function(e){be&&Se(e)},fontSize:"small",color:"success",style:{marginTop:"5px"},children:ge?"Uploaded":"Upload"})]})})}),Object(k.jsx)(b.a,{id:"outlined-basic",label:"Group Name",variant:"outlined",style:{color:"black"},color:"primary",size:"small",onChange:function(e){return B(e.target.value)}}),Object(k.jsx)(r.a,{id:"modal-modal-title",variant:"h4",component:"h2",children:"Users"}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"text",class:"form-control",placeholder:"First Name",id:"firstName",value:L,onChange:function(e){return M(e.target.value)}})}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"text",class:"form-control",placeholder:"Last Name",id:"lastName",value:R,onChange:function(e){return X(e.target.value)}})}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"email",class:"form-control",placeholder:"Email",id:"email",required:!0,value:Q,onChange:function(e){return Z(e.target.value)}})}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"text",class:"form-control",placeholder:"Position",id:"position",value:te,onChange:function(e){return ce(e.target.value)}})}),Object(k.jsxs)(d.a,{variant:"text",color:"error",size:"small",onClick:Fe,children:[Object(k.jsx)(v.a,{fontSize:"small"})," Add"]}),null===W||void 0===W?void 0:W.map((function(e,t){return Object(k.jsx)("div",{class:"accordion accordion-flush border rounded",id:"accordionFlushExample",children:Object(k.jsxs)("div",{class:"accordion-item",children:[Object(k.jsx)("h2",{class:"accordion-header",id:"flush-headingOne",children:Object(k.jsx)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse".concat(t),"aria-expanded":"false","aria-controls":"flush-collapse".concat(t),children:Object(k.jsxs)("div",{className:"d-flex justify-content-between ",style:{width:"100%"},children:[Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mt-3",children:t+1}),Object(k.jsx)("p",{style:{fontWeight:"bold"},className:"mt-3",children:e.first_name+" "+e.last_name})]}),Object(k.jsx)(d.a,{variant:"text",color:"error",className:"m-2",onClick:function(){return Ge(t)},children:"Delete"})]})})}),Object(k.jsx)("div",{id:"flush-collapse".concat(t),class:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample",children:Object(k.jsx)("div",{class:"accordion-body",children:e.email+" "+e.position})})]})},t)})),Object(k.jsx)(d.a,{variant:"contained",style:{backgroundColor:"#70d8bd"},onClick:function(){if(m(!1),""===E||W.length<1&&null===ge)N.a.fire("Invalid Data","Fill all fields!","error"),m(!0);else{var e={name:E,targets:[].concat(Object(l.a)(W),Object(l.a)(ge||[]))};console.log(e),Object(y.c)(e).then((function(e){console.log(e),N.a.fire({icon:"success",title:"Success!",text:"Group created successfully!",showConfirmButton:!0,timer:2e3}),ze(),ke()})).catch((function(e){console.log(e),we(),N.a.fire("Failed",e.response.data.message,"error")}))}},fullWidth:!0,children:"Create Group"})]})})}),Object(k.jsxs)("table",{className:"table table-hover mt-4",children:[Object(k.jsx)("thead",{class:"thead-dark",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:"Name"}),Object(k.jsx)("td",{children:"# of Members"}),Object(k.jsx)("td",{children:"Modified Date"}),Object(k.jsx)("td",{children:"Actions"})]})}),Object(k.jsx)("tbody",{children:null===ne||void 0===ne?void 0:ne.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.name}),Object(k.jsx)("td",{children:e.targets.length}),Object(k.jsx)("td",{children:new Date(e.modified_date).toUTCString()}),Object(k.jsxs)("td",{children:[Object(k.jsx)(h.a,{onClick:function(){return function(e){F(!0),B(null===e||void 0===e?void 0:e.name),q(null===e||void 0===e?void 0:e.targets),_(null===e||void 0===e?void 0:e.id)}(e)},children:Object(k.jsx)(O.a,{color:"success"})}),Object(k.jsx)(h.a,{onClick:function(){return function(e){Object(y.i)(e).then((function(e){console.log(e),N.a.fire({icon:"success",title:"Success!",text:"Group deleted successfully!",showConfirmButton:!0,timer:2e3}),ze()})).catch((function(e){console.log(e),N.a.fire("Failed",e.response.data.message,"error")}))}(null===e||void 0===e?void 0:e.id)},children:Object(k.jsx)(f.a,{color:"error"})})]})]},t)}))})]}),Object(k.jsx)(j.a,{open:C,onClose:ke,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(k.jsx)(u.a,{sx:w,children:Object(k.jsxs)(u.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"41ch"}},noValidate:!0,autoComplete:"off",children:[Object(k.jsx)(r.a,{id:"modal-modal-title",variant:"h4",component:"h2",children:"Name"}),Object(k.jsx)(b.a,{id:"outlined-basic",label:"Group Name",variant:"outlined",style:{color:"black"},color:"primary",size:"small",value:E,onChange:function(e){return B(e.target.value)}}),Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"form",children:Object(k.jsxs)("form",{className:"form-group",autoComplete:"off",children:[Object(k.jsx)("label",{htmlFor:"bulk",children:Object(k.jsx)("h5",{children:"Bulk Import"})}),Object(k.jsx)("br",{}),Object(k.jsx)("input",{type:"file",className:"form-control",onChange:Ne,required:!0}),xe&&Object(k.jsx)("div",{className:"text-danger",style:{marginTop:"5px"},children:xe}),Object(k.jsx)(d.a,{onClick:function(e){be&&Se(e)},fontSize:"small",color:"success",style:{marginTop:"5px"},children:ge?"Uploaded":"Upload"})]})})}),Object(k.jsx)(r.a,{id:"modal-modal-title",variant:"h4",component:"h2",children:"Users"}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"text",class:"form-control",placeholder:"First Name",id:"firstName",value:L,onChange:function(e){return M(e.target.value)}})}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"text",class:"form-control",placeholder:"Last Name",id:"lastName",value:R,onChange:function(e){return X(e.target.value)}})}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"email",class:"form-control",placeholder:"Email",id:"email",required:!0,value:Q,onChange:function(e){return Z(e.target.value)}})}),Object(k.jsx)("div",{class:"col-sm-3",children:Object(k.jsx)("input",{type:"text",class:"form-control",placeholder:"Position",id:"position",value:te,onChange:function(e){return ce(e.target.value)}})}),Object(k.jsxs)(d.a,{variant:"text",color:"error",size:"small",onClick:Fe,children:[Object(k.jsx)(v.a,{fontSize:"small"})," Add"]}),W.map((function(e,t){return Object(k.jsx)("div",{class:"accordion accordion-flush border rounded",id:"accordionFlushExample",children:Object(k.jsxs)("div",{class:"accordion-item",children:[Object(k.jsx)("h2",{class:"accordion-header",id:"flush-headingOne",children:Object(k.jsx)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse".concat(t),"aria-expanded":"false","aria-controls":"flush-collapse".concat(t),children:Object(k.jsxs)("div",{className:"d-flex justify-content-between ",style:{width:"100%"},children:[Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mt-3",children:t+1}),Object(k.jsx)("p",{style:{fontWeight:"bold"},className:"mt-3",children:e.first_name+" "+e.last_name})]}),Object(k.jsx)(d.a,{variant:"text",color:"error",className:"m-2",onClick:function(){return Ge(t)},children:"Delete"})]})})}),Object(k.jsx)("div",{id:"flush-collapse".concat(t),class:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample",children:Object(k.jsx)("div",{class:"accordion-body",children:e.email+" "+e.position})})]})},t)})),Object(k.jsx)(d.a,{variant:"contained",style:{backgroundColor:"#70d8bd"},onClick:function(){if(F(!1),""===E||W.length<1&&null===ge)N.a.fire("Invalid Data","Fill all fields!","error"),m(!0);else{var e={id:U,name:E,targets:[].concat(Object(l.a)(W),Object(l.a)(ge||[]))};console.log(e),Object(y.n)(e,U).then((function(e){console.log(e),N.a.fire({icon:"success",title:"Success!",text:"Group Updated Successfully!",showConfirmButton:!0,timer:2e3}),ze(),ke()})).catch((function(e){console.log(e),we(),N.a.fire("Failed",e.response.data.message,"error")}))}},fullWidth:!0,children:"Edit Group"})]})})})]})})}}}]);
//# sourceMappingURL=22.b9893c9c.chunk.js.map